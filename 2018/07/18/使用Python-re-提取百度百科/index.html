<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>使用Python re 提取百度百科 | Mr Bluyee's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?' + '3dbaf3043b34b1c894c4cd063629b6a9';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">使用Python re 提取百度百科</h1><a id="logo" href="/.">Mr Bluyee's Blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">使用Python re 提取百度百科</h1><div class="post-meta">2018-07-18<span> | </span><span class="category"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Python/">学习笔记——Python</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 6.6k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 27</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81"><span class="toc-number">2.</span> <span class="toc-text">源码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">示例：</span></a></li></ol></div></div><div class="post-content"><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>使用Python re 提取百度百科的内容：实现了在命令行输入要查询的百科内容的词语后，命令行里打印出查到的内容的功能。内容由正则表达式提取出百度百科的网页内容。<br>库依赖：urllib3、json、certifi、io、sys、re、platform</p>
<span id="more"></span>

<h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><p>源码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"></span><br><span class="line">__author__ = &#x27;Mr.Bluyee&#x27;</span><br><span class="line"></span><br><span class="line">import urllib3</span><br><span class="line">import json</span><br><span class="line">import certifi</span><br><span class="line">import io</span><br><span class="line">import sys</span><br><span class="line">import re</span><br><span class="line">import platform</span><br><span class="line"></span><br><span class="line">os_info = platform.platform()</span><br><span class="line"></span><br><span class="line">if os_info[0] == &#x27;W&#x27;:</span><br><span class="line">    sys.stdout = io.TextIOWrapper(sys.stdout.buffer,encoding=&#x27;gb18030&#x27;)</span><br><span class="line">    #改变标准输出的默认编码</span><br><span class="line">    </span><br><span class="line">class BaiduPedia(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.html_data = &#x27;&#x27;</span><br><span class="line">        self.title = &#x27;&#x27;</span><br><span class="line">        self.other_pedias_list = []</span><br><span class="line"></span><br><span class="line">    def make_https_request(self,url,func,field = &#123;&#125;):</span><br><span class="line">        https = urllib3.PoolManager(cert_reqs=&#x27;CERT_REQUIRED&#x27;, ca_certs=certifi.where())</span><br><span class="line">        request_head = &#123;&#x27;User-Agent&#x27;:&#x27;Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0;&#x27;&#125;</span><br><span class="line">        r = https.request(func, url,fields = field,headers = request_head)</span><br><span class="line">        if r.status == 200:</span><br><span class="line">            self.html_data = r.data.decode(&#x27;utf-8&#x27;)</span><br><span class="line">        </span><br><span class="line">    def baidu_pedia_request(self,word):</span><br><span class="line">        url = &#x27;https://baike.baidu.com/search/word&#x27;</span><br><span class="line">        func = &#x27;GET&#x27;</span><br><span class="line">        field = &#123;&#x27;word&#x27;:word&#125;</span><br><span class="line">        self.make_https_request(url,func,field)</span><br><span class="line"></span><br><span class="line">    def save_file(self,web_data,filename):</span><br><span class="line">        with open(filename,&#x27;w&#x27;) as f:</span><br><span class="line">            f.write(web_data)</span><br><span class="line">        </span><br><span class="line">    def baidupedia_get_title(self,s):</span><br><span class="line">        pattern = re.compile(r&#x27;&lt;title&gt;.*?&lt;/title&gt;&#x27;, re.S)</span><br><span class="line">        self.title = pattern.search(s).group()[7:-13]</span><br><span class="line">    </span><br><span class="line">    def baidupedia_get_other_pedias_dict(self,s):</span><br><span class="line">        pattern = re.compile(r&#x27;&lt;li class=&quot;item&quot;&gt;▪&lt;a title=.*?&lt;/a&gt;&lt;/li&gt;&#x27;, re.S)</span><br><span class="line">        other_pedias = pattern.findall(s)</span><br><span class="line">        if len(other_pedias) &gt; 0:</span><br><span class="line">            print(&#x27;&#x27;)</span><br><span class="line">            print(&#x27;该词是一个多义词，请在下列义项上选择浏览:&#x27;)</span><br><span class="line">            print(&#x27;1&#x27; + self.title)</span><br><span class="line">            num_index = 2</span><br><span class="line">            for item in other_pedias:</span><br><span class="line">                index1 = item.find(&#x27;href&#x27;)</span><br><span class="line">                index2 = item.find(&#x27;&gt;&#x27;,index1)</span><br><span class="line">                other_pedias_href = &#x27;https://baike.baidu.com&#x27; + item[index1 + 6:index2 - 1]</span><br><span class="line">                other_pedias_title = item[index2 + 1:-9]</span><br><span class="line">                print(str(num_index) + other_pedias_title)</span><br><span class="line">                num_index += 1</span><br><span class="line">                self.other_pedias_list.append(other_pedias_href)</span><br><span class="line">            print(&#x27;&#x27;)</span><br><span class="line">    </span><br><span class="line">    def baidupedia_get_summary(self,s):</span><br><span class="line">        print(self.title)</span><br><span class="line">        print(&#x27;&#x27;)</span><br><span class="line">        pattern = re.compile(r&#x27;&lt;div class=&quot;promotion-declaration&quot;&gt;.*?&lt;/dl&gt;&lt;/div&gt;&#x27;, re.S)</span><br><span class="line">        head_content = pattern.search(s).group()</span><br><span class="line">        head_content = re.sub(r&#x27;&lt;[\u0008-\u007F]*?&gt;&#x27;,&#x27;&#x27;,head_content)</span><br><span class="line">        head_content = re.sub(r&#x27;\n\n*&#x27;,&#x27;\n&#x27;,head_content)</span><br><span class="line">        head_content = re.sub(r&#x27;&amp;nbsp;&#x27;,&#x27;&#x27;,head_content)</span><br><span class="line">        print(head_content)</span><br><span class="line">        </span><br><span class="line">    def baidupedia_get_content(self,s):</span><br><span class="line">        pattern = re.compile(r&#x27;&lt;a name=&quot;\d.*?&quot; class=&quot;lemma-anchor para-title&quot;.*?&lt;div class=&quot;anchor-list&quot;&gt;&#x27;, re.S)</span><br><span class="line">        content = pattern.findall(s)</span><br><span class="line">        for item in content:</span><br><span class="line">            item_pattern1 = re.compile(r&#x27;&lt;span class=&quot;title-prefix&quot;&gt;.*?&lt;/h.*?\d&#x27;, re.S)</span><br><span class="line">            item_content1 = item_pattern1.search(item).group()</span><br><span class="line">            item_catalogue =  re.sub(r&#x27;&lt;.*?n&gt;&#x27;,&#x27;&#x27;,item_content1)</span><br><span class="line">            if item_catalogue[-1] == &#x27;2&#x27;:</span><br><span class="line">                print(&#x27;---&#x27; + item_catalogue[:-4])</span><br><span class="line">            elif item_catalogue[-1] == &#x27;3&#x27;:</span><br><span class="line">                print(&#x27;------&#x27; + item_catalogue[:-4])</span><br><span class="line">            item_pattern2 = re.compile(r&#x27;&lt;div class=&quot;para&quot; label-module=&quot;para&quot;&gt;.*?&lt;/div&gt;&#x27;, re.S)</span><br><span class="line">            item_content2 = item_pattern2.findall(item)</span><br><span class="line">            for item_child in item_content2:</span><br><span class="line">                item_child_content1 = re.sub(r&#x27;&lt;[\u0008-\u007F\u4e00-\u9fa5]*?&gt;\r*\n*&#x27;, &#x27;&#x27;, item_child)</span><br><span class="line">                item_child_content1 = re.sub(r&#x27;&amp;.*?;&#x27;,&#x27;&#x27;,item_child_content1)</span><br><span class="line">                if item_catalogue[-1] == &#x27;2&#x27;:</span><br><span class="line">                    print(&#x27;   &#x27; + item_child_content1)</span><br><span class="line">                elif item_catalogue[-1] == &#x27;3&#x27;:</span><br><span class="line">                    print(&#x27;      &#x27; + item_child_content1)</span><br><span class="line">            print(&#x27;&#x27;)</span><br><span class="line">        </span><br><span class="line">    def baidupedia_match(self,s):</span><br><span class="line">        self.baidupedia_get_summary(s)</span><br><span class="line">        self.baidupedia_get_content(s)</span><br><span class="line">        </span><br><span class="line">    def baidupedia(self,word):</span><br><span class="line">        self.baidu_pedia_request(word)</span><br><span class="line">        self.baidupedia_get_title(self.html_data)</span><br><span class="line">        self.baidupedia_get_other_pedias_dict(self.html_data)</span><br><span class="line">        list_len = len(self.other_pedias_list)</span><br><span class="line">        if list_len &gt; 0:</span><br><span class="line">            num = int(input(&#x27;请输入你要查的意思：&#x27;))</span><br><span class="line">            print(&#x27;&#x27;)</span><br><span class="line">            if num == 1:</span><br><span class="line">                self.baidupedia_match(self.html_data)</span><br><span class="line">            else:</span><br><span class="line">                self.make_https_request(self.other_pedias_list[num - 2],&#x27;GET&#x27;)</span><br><span class="line">                self.baidupedia_get_title(self.html_data)</span><br><span class="line">                self.baidupedia_match(self.html_data)</span><br><span class="line">        else:</span><br><span class="line">            self.baidupedia_match(self.html_data)</span><br><span class="line">        </span><br><span class="line">def main():</span><br><span class="line">    word = input(&#x27;请输入你要查的词语：&#x27;)</span><br><span class="line">    baidu_pedia = BaiduPedia()</span><br><span class="line">    baidu_pedia.baidupedia(word)</span><br><span class="line">    </span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h4><p>运行后出现提示，输入支持中英文词。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请输入你要查的词语：</span><br></pre></td></tr></table></figure>
<p>我们输入DNS</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">请输入你要查的词语：DNS</span><br><span class="line"></span><br><span class="line">该词是一个多义词，请在下列义项上选择浏览:</span><br><span class="line">1dns（域名系统）</span><br><span class="line">2体育术语</span><br><span class="line">3二硝基水杨酸</span><br><span class="line">4直接数值模拟</span><br><span class="line">5魔方比赛用语</span><br><span class="line">6生物化学实验</span><br><span class="line"></span><br><span class="line">请输入你要查的意思：</span><br></pre></td></tr></table></figure>
<p>由于DNS是个多义词，给出了一个选项，输入想要查的词的号，比如我们输入1后回车，表示想要查询域名系统的百科释义：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br></pre></td><td class="code"><pre><span class="line">请输入你要查的意思：1</span><br><span class="line"></span><br><span class="line">dns（域名系统）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DNS（Domain Name System，域名系统），万维网上作为域名和IP地址相互映射的一个分布式数据库，能够使用户更方便的访问互联网，而不用去记住能够被机器直接读取的IP数串。通过域名，最终得到该域名对应的IP地址的过程叫做域名解析（或主机名解析）。DNS协议运行在UDP协议之上，使用端口号53。在RFC文档中RFC 2181对DNS有规范说明，RFC 2136对DNS的动态更新进行说明，RFC 2308对DNS查询的反向缓存进行说明。</span><br><span class="line">中文名</span><br><span class="line">域名系统</span><br><span class="line">外文名</span><br><span class="line">Domain Name System</span><br><span class="line">使用协议</span><br><span class="line">UDP,TCP（当请求大于512字节时）</span><br><span class="line">使用端口</span><br><span class="line">53</span><br><span class="line"></span><br><span class="line">---DNS功能</span><br><span class="line">   每个IP地址都可以有一个主机名，主机名由一个或多个字符串组成，字符串之间用小数点隔开。有了主机名，就不要死记硬背每台IP设备的IP地址，只要记住相对直观有意义的主机名就行了。这就是DNS协议的功能。</span><br><span class="line">   主机名到IP地址的映射有两种方式：</span><br><span class="line">   1）静态映射，每台设备上都配置主机到IP地址的映射，各设备独立维护自己的映射表，而且只供本设备使用；</span><br><span class="line">   2）动态映射，建立一套域名解析系统（DNS），只在专门的DNS服务器上配置主机到IP地址的映射，网络上需要使用主机名通信的设备，首先需要到DNS服务器查询主机所对应的IP地址。[1]</span><br><span class="line">   通过主机名，最终得到该主机名对应的IP地址的过程叫做域名解析（或主机名解析）。在解析域名时，可以首先采用静态域名解析的方法，如果静态域名解析不成功，再采用动态域名解析的方法。可以将一些常用的域名放入静态域名解析表中，这样可以大大提高域名解析效率。</span><br><span class="line"></span><br><span class="line">---DNS重要性</span><br><span class="line">   1、技术角度看</span><br><span class="line">   DNS解析是互联网绝大多数应用的实际寻址方式； 域名技术的再发展、以及基于域名技术的多种应用，丰富了互联网应用和协议。</span><br><span class="line">   2、资源角度看</span><br><span class="line">   域名是互联网上的身份标识，是不可重复的唯一标识资源； 互联网的全球化使得域名成为标识一国主权的国家战略资源。</span><br><span class="line"></span><br><span class="line">---DNS冗余</span><br><span class="line">   为保证服务的高可用性，DNS要求使dns</span><br><span class="line"></span><br><span class="line">   某个区域的资源记录通过手动或自动方式更新到单个主名称服务器（称为主 DNS服务器）上，主 DNS 服务器可以是一个或几个区域的权威名称服务器。</span><br><span class="line">   其它冗余名称服务器（称为辅 DNS 服务器）用作同一区域中主服务器的备份服务器，以防主服务器无法访问或宕机。辅 DNS服务器定期与主 DNS 服务器通讯，确保它的区域信息保持最新。如果不是最新信息，辅 DNS服务器就会从主服务器获取最新区域数据文件的副本。这种将区域文件复制到多台名称服务器的过程称为区域复制。</span><br><span class="line"></span><br><span class="line">---域名结构</span><br><span class="line">   通常 Internet 主机域名的一般结构为：主机名.三级域名.二级域名.顶级域名。 Internet 的顶级域名由 Internet网络协会域名注册查询负责网络地址分配的委员会进行登记和管理，它还为 Internet的每一台主机分配唯一的 IP 地址。全世界现有三个大的网络信息中心： 位于美国的 Inter-NIC，负责美国及其他地区； 位于荷兰的RIPE-NIC，负责欧洲地区；位于日本的APNIC ，负责亚太地区[1]。</span><br><span class="line"></span><br><span class="line">---解析器</span><br><span class="line">   解析器，或另一台DNS服务器递归代表的情况下，域名解析器，协商使用递归服务，使用查询头位。</span><br><span class="line">   解析通常需要遍历多个名称服务器，找到所需要的信息。然而，一些解析器的功能更简单地只用一个名称服务器进行通信。这些简单的解析器依赖于一个递归名称服务器（称为“存根解析器”），为他们寻找信息的执行工作。</span><br><span class="line"></span><br><span class="line">---DNS服务器</span><br><span class="line">   提供DNS服务的是安装了DNS服务器端软件的计算机。服务器端软件既可以是基于类linux操作系统，也可以是基于Windows操作系统的。装好DNS服务器软件后，您就可以在您指定的位置创建区域文件了，所谓区域文件就是包含了此域中名字到IP地址解析记录的一个文件，如文件的内容可能是这样的：primary name server = dns2（主服务器的主机名是 ）</span><br><span class="line">   serial = 2913 （序列号=2913、这个序列号的作用是当辅域名服务器来复制这个文件的时候，如果号码增加了就复制）</span><br><span class="line">   refresh = 10800 (3 hours) （刷新=10800秒、辅域名服务器每隔3小时查询一个主服务器）</span><br><span class="line">   retry = 3600 (1 hour) （重试=3600秒、当辅域名服务试图在主服务器上查询更新时，而连接失败了，辅域名服务器每隔1小时访问主域名服务器）</span><br><span class="line">   expire = 604800 (7 days) （到期=604800秒、辅域名服务器在向主服务更新失败后，7天后删除中的记录。）</span><br><span class="line">   default TTL = 3600 (1 hour) （默认生存时间=3600秒、缓存服务器保存记录的时间是1小时。也就是告诉缓存服务器保存域的解析记录为1小时）</span><br><span class="line"></span><br><span class="line">---SDNS</span><br><span class="line">   中国互联网络信息中心(CNNIC)研发出我国首个面向下一代互联网的域名服务平台——SDNS。</span><br><span class="line"></span><br><span class="line">---DNS查询方法</span><br><span class="line"></span><br><span class="line">------查询DNS服务器上的资源记录</span><br><span class="line">      在Windows平台下，使用命令行工具，输入nslookup，返回的结果包括域名对应的IP地址（A记录）、别名（CNAME记录）等。除了以上方法外，还可以通过一些DNS查询站点dns</span><br><span class="line"></span><br><span class="line">      常用的资源记录类型</span><br><span class="line">      A 地址 此记录列出特定主机名的 IP 地址。这是名称解析的重要记录。</span><br><span class="line">      CNAME 标准名称 此记录指定标准主机名的别名。</span><br><span class="line">      MX邮件交换器此记录列出了负责接收发到域中的电子邮件的主机。</span><br><span class="line">      NS名称服务器此记录指定负责给定区域的名称服务器。</span><br><span class="line"></span><br><span class="line">------FQDN名的解析过程查询</span><br><span class="line">      若想跟踪一个FQDN名的解析过程，在LinuxShell下输入dig www +trace，返回的结果包括从根域开始的递归或迭代过程，一直到权威域名服务器。</span><br><span class="line">      GeniePro DNS 应对DNS劫持和DNS缓存中毒攻击的关键性机制：一致性检查</span><br><span class="line">      每个Geniepro节点将自身的DNS记录发送给工作组内其他节点请求一致性检查；</span><br><span class="line">      每个Geniepro节点将自身的记录与收到的记录进行比较；</span><br><span class="line">      每个Geniepro工作组的通信协调节点将获得的DNS记录更新发送给其他组的通信协调节点请求一致性检查；</span><br><span class="line">      每个Genipro工作组的通信协调节点向上一级DNS服务器请求更新记录并与收到的其他通信协调节点的记录进行比较。</span><br><span class="line"></span><br><span class="line">------一致性仲裁</span><br><span class="line">      如果一致性检查发现记录不一致情况，则根据策略（少数服从多数、一票否决等）决定是否接受记录的变化 根据结果，各Geniepro节点将自身记录进行统一 通信协调节点选举 选举出的通信协调节点在任期内具有更新组内节点的权限 选举过程满足不可预测性和不可重复性DNS资源记录　如前所述，每个 DNS 数据库都由资源记录构成。一般来说，资源记录包含与特定主机有关的信息，如 IP 地址、主机的所有者或者提供服务的类型。</span><br><span class="line"></span><br><span class="line">---故障解决</span><br><span class="line">   当DNS解析出现错误，例如把一个域名解析成一个错误的IP地址，或者根本不知道某个域名对应的IP地址是什么时，就无法通过域名访问相应的站点了，这就是DNS解析故障。出现DNS解析故障最大的症状就是访问站点对应的IP地址没有问题，然而访问他的域名就会出现错误。</span><br><span class="line">   （1）用nslookup(网路查询)来判断是否真的是DNS解析故障：</span><br><span class="line">   要想百分之百判断是否为DNS解析故障就需要通过系统自带的NSLOOKUP来解决了。</span><br><span class="line">   第一步：确认自己的系统是windows 2000和windows xp以上操作系统，然后通过“开始-运行-输入CMD”后回车进入命令行模式。</span><br><span class="line">   第二步：输入nslookup命令后回车，将进入DNS解析查询界面。</span><br><span class="line">   第三步：命令行窗口中会显示出当前系统所使用的DNS服务器地址，例如笔者的DNS服务器IP为202.106.0.20。</span><br><span class="line">   第四步：接下来输入无法访问的站点对应的域名。假如不能访问的话，那么DNS解析应该是不能够正常进行的，会收到DNS request timed out，timeout was 2 seconds的提示信息。这说明本地计算机确实出现了DNS解析故障。</span><br><span class="line">   小提示：如果DNS解析正常的话，会反馈回正确的IP地址。</span><br><span class="line">   （2）查询DNS服务器工作是否正常：</span><br><span class="line">   这时候要看本地计算机使用的DNS地址是多少了，并且查询他的运行情况。</span><br><span class="line">   第一步：通过“开始-运行-输入CMD”后回车进入命令行模式。</span><br><span class="line">   第二步：输入ipconfig/all命令来查询网络参数。</span><br><span class="line">   第三步：在ipconfig /all显示信息中能够看到一个地方写着DNS SERVERS，这个就是本地的DNS服务器地址。例如笔者的是202.106.0.20和202.106.46.151。从这个地址可以看出是个外网地址，如果使用外网DNS出现解析错误时，可以更换一个其他的DNS服务器地址即可解决问题。</span><br><span class="line">   第四步：如果在DNS服务器处显示的是个人公司的内部网络地址，那么说明该公司的DNS解析工作是交给公司内部的DNS服务器来完成的，这时需要检查这个DNS服务器，在DNS服务器上进行nslookup操作看是否可以正常解析。解决DNS服务器上的DNS服务故障，一般来说问题也能够解决。</span><br><span class="line">   （3）清除DNS缓存信息法：</span><br><span class="line">   第一步：通过“开始-运行-输入CMD”进入命令行模式。</span><br><span class="line">   第二步：在命令行模式中我们可以看到在ipconfig /?中有一个名为/flushdns的参数，这个就是清除DNS缓存信息的命令。</span><br><span class="line">   第三步：执行ipconfig /flushdns命令，当出现“successfully flushed the dns resolver cache”的提示时就说明当前计算机的缓存信息已经被成功清除。</span><br><span class="line">   第四步：接下来我们再访问域名时，就会到DNS服务器上获取最新解析地址，再也不会出现因为以前的缓存造成解析错误故障了。</span><br><span class="line">   （4）修改HOSTS（主机）文件法：</span><br><span class="line">   第一步：通过“开始-搜索”，然后查找名叫hosts的文件。</span><br><span class="line">   第二步：当然对于已经知道他的路径的读者可以直接进入c:\windows\system32\drivers\etc目录中找到HOSTS文件。如果你的系统是windows 2000，那么应该到c:\winnt\system32\drivers\etc目录中寻找。</span><br><span class="line">   第三步：双击HOSTS文件，然后选择用“记事本”程序将其打开。</span><br><span class="line">   第四步：之后我们就会看到HOSTS文件的所有内容了，默认情况下只有一行内容“127.0.0.1 localhost”。（其他前面带有#的行都不是真正的内容，只是帮助信息而已）</span><br><span class="line">   第五步：将你希望进行DNS解析的条目添加到HOSTS文件中。具体格式是先写该域名对应的IP地址，然后空格接域名信息。</span><br><span class="line">   第六步：设置完毕后我们访问网址时就会自动根据是在内网还是外网来解析了。[2]</span><br><span class="line"></span><br><span class="line">---DNS安全问题</span><br><span class="line">   1.针对域名系统的恶意攻击：DDOS攻击造成域名解析瘫痪。</span><br><span class="line">   2.域名劫持：修改注册信息、劫持解析结果。</span><br><span class="line">   3.国家性质的域名系统安全事件：“.ly”域名瘫痪、“.af”域名的域名管理权变更。</span><br><span class="line">   4.系统上运行的DNS服务存在漏洞，导致被黑客获取权限，从而篡改DNS信息。</span><br><span class="line">   5.DNS设置不当，导致泄漏一些敏感信息。提供给黑客进一步攻击提供有力信息。</span><br><span class="line"></span><br><span class="line">---配置DNS</span><br><span class="line">   不同的网络设备配置的语法不一样，这里提供的配置方法是以锐捷网络设备为例的，一般也适用思科设备。</span><br><span class="line"></span><br><span class="line">---DNS解析</span><br><span class="line">   本节描述如何打开DNS域名解析功能开关。</span><br><span class="line">   R(config)#ip domain-lookup 打开DNS域名解析功能开关</span><br><span class="line">   　　配置DNS Server使用no ip domain-lookup命令关闭DNS域名解析的功能：R(config)#no ip domain-lookup</span><br><span class="line">   本节描述如何配置DNS服务器。只有配置了DNS服务器，才能进行动态域名解析。</span><br><span class="line">   如果要删除DNS服务器，可以使用no ip name-server [ip-address | ipv6-address] 命令。其中参数ip-address和ipv6-address表示删除指定的域名服务器，否则删除所有的域名服务器。</span><br><span class="line">   命令</span><br><span class="line">   作用</span><br><span class="line">   R(config)# ip name-server &#123;ip-address | ipv6-address&#125;</span><br><span class="line">   添加DNS Server的IP/IPV6地址。每次执行这条命令，设备都会添加一个DNS Server。当无法从第一个Server获取到域名时，设备会尝试向后续几个Server发送DNS请求，直到正确收到回应为止。系统最多支持6个域名服务器。</span><br><span class="line">   　　</span><br><span class="line"></span><br><span class="line">------静态配置主机名和IP/IPV6地址的映射</span><br><span class="line">      如何配置主机名和IP/IPV6地址的映射。本地维护了一张主机名和IP/IPV6地址的对应表，也叫主机名到IP/IPv6地址的映射表。主机名到IP/IPV6地址的映射表内容有两个来源：手工配置和动态学习。在不能动态学习的情况下，手工配置就有必要了。</span><br><span class="line">      命令</span><br><span class="line">      作用</span><br><span class="line">      R(config)# ip host host-name ip-address</span><br><span class="line">      手工配置主机名和IP地址映射</span><br><span class="line">      R(config)# ipv6 host host-name ipv6-address</span><br><span class="line">      手工配置主机名和IPV6地址映射</span><br><span class="line">      使用该命令的no形式就可以删除主机名和IP/IPV6地址的映射。</span><br><span class="line">      　　</span><br><span class="line"></span><br><span class="line">------清除动态主机名缓存表</span><br><span class="line">      本节描述如何清除动态主机名缓存表。如果输入clear host或clear host * 命令将清除动态缓存表。否则只删除指定域名的表项。</span><br><span class="line">      命令</span><br><span class="line">      作用</span><br><span class="line">      R#clear host [host-name]</span><br><span class="line">      清除动态主机名缓存表。</span><br><span class="line">      该命令不能删除静态配置的主机名。</span><br><span class="line"></span><br><span class="line">------域名解析信息显示</span><br><span class="line">      本节描述如何显示DNS的相关配置信息：</span><br><span class="line">      命令</span><br><span class="line">      作用</span><br><span class="line">      R# show hosts [host-name]</span><br><span class="line">      查看DNS的相关参数</span><br><span class="line">      R# show hosts</span><br><span class="line">      Name servers are:</span><br><span class="line">      192.168.5.134 static</span><br><span class="line">      Host type Address TTL(sec)</span><br><span class="line">      www.163.com static 192.168.5.243 ---</span><br><span class="line"></span><br><span class="line">---DNS配置举例</span><br><span class="line"></span><br><span class="line">------静态域名解析配置举例</span><br><span class="line">      拓扑图</span><br><span class="line">      如右图静态域名解析配置组网图所示：</span><br><span class="line">      静态域名解析配置组网图</span><br><span class="line"></span><br><span class="line">      应用需求</span><br><span class="line">      由于网络设备R-A经常访问域名为destination.com的主机，可利用静态域名解析功能，实现通过destination.com主机名访问IP地址为1.1.1.20的主机，提高域名解析的效率。</span><br><span class="line">      配置要点</span><br><span class="line">      1. 确保设备和主机间路由可达</span><br><span class="line">      2. 主机名和IP地址间的映射正确</span><br><span class="line">      配置步骤</span><br><span class="line">      手工配置主机名和IP地址间的映射；本例中，配置主机名为destination.com其对应IP地址为1.1.1.20</span><br><span class="line">      R-A(config)#ip host destination.com 1.1.1.20</span><br><span class="line">      配置验证</span><br><span class="line">      第一步，查看域名解析信息；关注点主机、IP地址间的映射关系是否正确。</span><br><span class="line">      R-A# show host</span><br><span class="line">      Name servers are:</span><br><span class="line">      Host type Address TTL(sec)</span><br><span class="line">      destination.com static 1.1.1.20 ---</span><br><span class="line">      第二步，使用ping destination.com命令，查看执行结果。</span><br><span class="line">      R-A# ping destination.com</span><br><span class="line">      Translating destination.com...[OK]</span><br><span class="line">      Sending 5, 100-byte ICMP Echoes to 1.1.1.20, timeout is 2 seconds:</span><br><span class="line">       press Ctrl+C to break </span><br><span class="line">      !!!!!</span><br><span class="line">      Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/1 ms</span><br><span class="line">      从以上显示信息可以看出，R-A通过静态域名解析，成功实现通过destination.com主机名访问IP地址为1.1.1.20的主机。</span><br><span class="line"></span><br><span class="line">------动态域名解析配置举例</span><br><span class="line">      拓扑图</span><br><span class="line">      动态域名解析配置组网图</span><br><span class="line"></span><br><span class="line">      应用需求</span><br><span class="line">      1. DNS域名服务器的IP地址为192.168.31.206/24。</span><br><span class="line">      2. 网络设备为DNS客户端，通过动态域名解析功能，实现通过host.com主机名访问IP地址为10.1.1.2的主机。</span><br><span class="line">      配置要点</span><br><span class="line">      1. DNS客户端和DNS服务器端、访问主机间的路由要可达</span><br><span class="line">      2. DNS域名解析开关打开。域名解析功能开关默认开启。</span><br><span class="line">      3. 正确配置DNS域名服务器的IP地址</span><br><span class="line">      配置步骤</span><br><span class="line">      第一步，配置DNS域名服务器</span><br><span class="line">      不同域名服务器的配置方法不同，请根据实际情况搭建DNS服务器。具体方法在此不做具体说明。</span><br><span class="line">      在DNS服务器上添加主机和IP地址的映射。本例中，设置主机名：host.com；IP地址为10.1.1.2/24</span><br><span class="line">      第二步，配置DNS客户端</span><br><span class="line">      DNS客户端和DNS服务器端、访问主机间的路由要可达。接口IP配置如拓扑图所示。具体配置过程此处省略。</span><br><span class="line">      ！打开DNS域名解析功能开关；该功能默认开启</span><br><span class="line">      R(config)#ip domain-lookup</span><br><span class="line">      ！配置域名服务器的IP地址为192.168.31.206</span><br><span class="line">      R(config)#ip name-server 192.168.31.206</span><br><span class="line">      配置验证</span><br><span class="line">      第一步，使用ping host.com命令，查看执行结果。</span><br><span class="line">      R# ping host.com</span><br><span class="line">      Translating  host.com ...[OK]</span><br><span class="line">      Sending 5, 100-byte ICMP Echoes to 10.1.1.2, timeout is 2 seconds:</span><br><span class="line">       press Ctrl+C to break </span><br><span class="line">      !!!!!</span><br><span class="line">      Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/1 ms</span><br><span class="line">      从以上显示信息可以看出，客户端设备能ping通主机，且对应的目的IP地址为10.1.1.2。设备通过动态域名解析，成功实现通过host.com主机名访问IP地址为10.1.1.2的主机。</span><br><span class="line">      第二步，查看域名解析信息；关注点主机名、主机IP地址。</span><br><span class="line">      R# show host</span><br><span class="line">      Name servers are:</span><br><span class="line">      192.168.31.206 static</span><br><span class="line">      Host type Address TTL(sec)</span><br><span class="line">      host.com dynamic 10.1.1.2 3503 </span><br><span class="line">      从以上显示信息可以看出，主机名同主机IP地址的映射表项正确。</span><br><span class="line"></span><br><span class="line">---全国DNS信息</span><br><span class="line">   电信域名系统列表　　（按拼音排序， 共32条）</span><br><span class="line">   电信</span><br><span class="line">   A安徽</span><br><span class="line">   202.102.192.68</span><br><span class="line">   202.102.199.68</span><br><span class="line">   61.132.163.68</span><br><span class="line">   202.102.213.68</span><br><span class="line">   电信</span><br><span class="line">   A澳门</span><br><span class="line">   202.175.3.8</span><br><span class="line">   202.175.3.3</span><br><span class="line">   电信</span><br><span class="line">   B北京</span><br><span class="line">   202.96.199.133</span><br><span class="line">   202.96.0.133</span><br><span class="line">   电信</span><br><span class="line">   C重庆</span><br><span class="line">   61.128.128.68</span><br><span class="line">   61.128.192.68</span><br><span class="line">   电信</span><br><span class="line">   F福建</span><br><span class="line">   218.85.157.99</span><br><span class="line">   电信</span><br><span class="line">   G甘肃</span><br><span class="line">   202.100.64.68</span><br><span class="line">   61.178.0.93</span><br><span class="line">   电信</span><br><span class="line">   G广东</span><br><span class="line">   202.96.128.86</span><br><span class="line">   202.96.128.166</span><br><span class="line">   202.96.134.133</span><br><span class="line">   202.96.128.68</span><br><span class="line">   电信</span><br><span class="line">   G广西</span><br><span class="line">   202.103.224.68</span><br><span class="line">   202.103.225.68</span><br><span class="line">   电信</span><br><span class="line">   G贵州</span><br><span class="line">   202.98.192.67</span><br><span class="line">   202.98.198.167</span><br><span class="line">   电信</span><br><span class="line">   H海南</span><br><span class="line">   202.100.192.68</span><br><span class="line">   202.100.199.8</span><br><span class="line">   电信</span><br><span class="line">   H河北</span><br><span class="line">   222.222.222.222</span><br><span class="line">   电信</span><br><span class="line">   H黑龙江</span><br><span class="line">   219.147.198.230</span><br><span class="line">   219.146.0.130</span><br><span class="line">   电信</span><br><span class="line">   H河南</span><br><span class="line">   219.150.150.150</span><br><span class="line">   222.88.88.88</span><br><span class="line">   222.85.85.85</span><br><span class="line">   电信</span><br><span class="line">   H湖北</span><br><span class="line">   202.103.0.68</span><br><span class="line">   202.103.24.68</span><br><span class="line">   202.103.0.117</span><br><span class="line">   202.103.44.150</span><br><span class="line">   电信</span><br><span class="line">   H湖南</span><br><span class="line">   222.246.129.80</span><br><span class="line">   59.51.78.211</span><br><span class="line">   电信</span><br><span class="line">   J江苏</span><br><span class="line">   61.177.7.1</span><br><span class="line">   61.147.37.1</span><br><span class="line">   218.2.135.1</span><br><span class="line">   221.228.255.1</span><br><span class="line">   电信</span><br><span class="line">   J江西</span><br><span class="line">   202.101.224.68</span><br><span class="line">   202.101.226.69</span><br><span class="line">   电信</span><br><span class="line">   J吉林</span><br><span class="line">   219.149.194.55</span><br><span class="line">   电信</span><br><span class="line">   N宁夏</span><br><span class="line">   202.100.96.68</span><br><span class="line">   222.75.152.129</span><br><span class="line">   电信</span><br><span class="line">   Q青海</span><br><span class="line">   202.100.128.68</span><br><span class="line">   电信</span><br><span class="line">   S山东</span><br><span class="line">   219.146.0.130</span><br><span class="line">   电信</span><br><span class="line">   S上海</span><br><span class="line">   202.96.209.5</span><br><span class="line">   202.96.209.133</span><br><span class="line">   电信</span><br><span class="line">   S陕西</span><br><span class="line">   218.30.19.40</span><br><span class="line">   61.134.1.4</span><br><span class="line">   电信</span><br><span class="line">   S四川</span><br><span class="line">   61.139.2.69</span><br><span class="line">   202.98.96.68</span><br><span class="line">   218.6.200.139</span><br><span class="line">   61.139.54.66</span><br><span class="line">   电信</span><br><span class="line">   T天津</span><br><span class="line">   219.150.32.132</span><br><span class="line">   电信</span><br><span class="line">   X香港</span><br><span class="line">   205.252.144.126</span><br><span class="line">   218.102.62.71</span><br><span class="line">   电信</span><br><span class="line">   X新疆</span><br><span class="line">   61.128.114.166</span><br><span class="line">   61.128.114.133</span><br><span class="line">   电信</span><br><span class="line">   Y云南</span><br><span class="line">   222.172.200.68</span><br><span class="line">   61.166.150.123</span><br><span class="line">   电信</span><br><span class="line">   Z浙江</span><br><span class="line">   60.191.244.5</span><br><span class="line">   202.96.113.34</span><br><span class="line">   联通 DNS 列表 （按拼音排序， 共23条）</span><br><span class="line">   联通</span><br><span class="line">   A安徽</span><br><span class="line">   218.104.78.2</span><br><span class="line">   联通</span><br><span class="line">   B北京</span><br><span class="line">   202.106.0.20</span><br><span class="line">   202.106.196.115</span><br><span class="line">   联通</span><br><span class="line">   G甘肃</span><br><span class="line">   221.7.34.10</span><br><span class="line">   联通</span><br><span class="line">   G广东</span><br><span class="line">   221.4.66.66</span><br><span class="line">   210.21.4.130</span><br><span class="line">   221.4.8.1</span><br><span class="line">   联通</span><br><span class="line">   G广西</span><br><span class="line">   211.97.64.129</span><br><span class="line">   221.7.128.68</span><br><span class="line">   221.7.136.68</span><br><span class="line">   联通</span><br><span class="line">   H海南</span><br><span class="line">   221.11.132.2</span><br><span class="line">   联通</span><br><span class="line">   H河北</span><br><span class="line">   202.99.160.68</span><br><span class="line">   202.99.166.4</span><br><span class="line">   联通</span><br><span class="line">   H黑龙江</span><br><span class="line">   202.97.224.68</span><br><span class="line">   202.97.224.69</span><br><span class="line">   联通</span><br><span class="line">   H河南</span><br><span class="line">   202.102.224.68</span><br><span class="line">   202.102.227.68</span><br><span class="line">   联通</span><br><span class="line">   H湖北</span><br><span class="line">   218.104.111.122</span><br><span class="line">   218.104.111.114</span><br><span class="line">   联通</span><br><span class="line">   H湖南</span><br><span class="line">   58.20.127.170</span><br><span class="line">   58.20.57.4</span><br><span class="line">   联通</span><br><span class="line">   J江苏</span><br><span class="line">   221.6.4.66</span><br><span class="line">   221.6.96.177</span><br><span class="line">   218.104.32.106</span><br><span class="line">   联通</span><br><span class="line">   J江西</span><br><span class="line">   220.248.192.12</span><br><span class="line">   220.248.192.13</span><br><span class="line">   联通</span><br><span class="line">   J吉林</span><br><span class="line">   202.98.0.68</span><br><span class="line">   202.98.5.68</span><br><span class="line">   联通</span><br><span class="line">   L辽宁</span><br><span class="line">   202.96.69.38</span><br><span class="line">   202.96.64.68</span><br><span class="line">   联通</span><br><span class="line">   N内蒙古</span><br><span class="line">   202.99.224.8</span><br><span class="line">   202.99.224.67</span><br><span class="line">   202.99.224.68</span><br><span class="line">   联通</span><br><span class="line">   S山东</span><br><span class="line">   202.102.152.3</span><br><span class="line">   202.102.134.68</span><br><span class="line">   联通</span><br><span class="line">   S上海</span><br><span class="line">   210.22.70.3</span><br><span class="line">   210.22.84.3</span><br><span class="line">   210.52.207.2</span><br><span class="line">   联通</span><br><span class="line">   S山西</span><br><span class="line">   202.99.192.66</span><br><span class="line">   202.99.192.68</span><br><span class="line">   联通</span><br><span class="line">   S四川</span><br><span class="line">   221.10.251.196</span><br><span class="line">   联通</span><br><span class="line">   T天津</span><br><span class="line">   202.99.96.68</span><br><span class="line">   202.99.104.68</span><br><span class="line">   联通</span><br><span class="line">   Y云南</span><br><span class="line">   221.3.131.9</span><br><span class="line">   221.3.131.10</span><br><span class="line">   联通</span><br><span class="line">   Z浙江</span><br><span class="line">   西宁</span><br><span class="line">   221.12.1.228</span><br><span class="line">   221.207.58.58</span><br><span class="line">   221.12.33.228</span><br><span class="line">   221.207.58.68</span><br><span class="line">   221.12.65.228</span><br><span class="line">   218.108.248.200</span><br><span class="line">   211.138.30.66</span><br><span class="line"></span><br><span class="line">---港澳台dns地址</span><br><span class="line">   208.151.69.65</span><br><span class="line">   202.181.202.140</span><br><span class="line">   附送大型企业的几个DNS服务器地址</span><br><span class="line">   114DNS</span><br><span class="line">   在国内使用很差，上网会不稳定</span><br><span class="line"></span><br><span class="line">---IPv6公共DNS信息</span><br><span class="line"></span><br><span class="line">---热门事件</span><br><span class="line">   北京时间2014年1月21日，下午15时20分左右，全国大范围出现DNS故障，中国顶级域名根服务器出现故障，大部分网站受影响，此次故障未对国家顶级域名.CN造成影响，所有运行服务正常。[4]</span><br></pre></td></tr></table></figure>
<p>词条的分级内容由不同长度的短横线表示。</p>
</div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css?v=1.0.0"><p><span>本文标题：</span>使用Python re 提取百度百科</p><p><span>文章作者：</span>Mr Bluyee</p><p><span>发布时间：</span>2018-07-18</p><p><span>最后更新：</span>2019-07-15</p><p><span>原始链接：</span><a href="/2018/07/18/使用Python-re-提取百度百科/">https://www.mrbluyee.com/2018/07/18/%E4%BD%BF%E7%94%A8Python-re-%E6%8F%90%E5%8F%96%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="https://www.mrbluyee.com/2018/07/18/%E4%BD%BF%E7%94%A8Python-re-%E6%8F%90%E5%8F%96%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91/"></i></span></p><p><span>版权声明：</span>The author owns the copyright, please indicate the source reproduced.</p></div><br><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul></div><div class="post-nav"><a class="pre" href="/2018/07/19/Python-requests/">Python requests</a><a class="next" href="/2018/07/17/Python-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">Python 正则表达式</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zOTYxNS8xNjE0Mg"><script>(function(d, s) {
  var j, e = d.getElementsByTagName(s)[0];
  if (typeof LivereTower === 'function') { return; }
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.parentNode.insertBefore(j, e);
})(document, 'script');
</script></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.jpeg"/></a><p>Enjoy life / Hope for future</p><a class="info-icon" href="mr.bluyee@hotmail.com" title="mr.bluyee@hotmail.com" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/MrBluyee" title="https://github.com/MrBluyee" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94C-%E7%AE%97%E6%B3%95/">学习笔记——C 算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">学习笔记——C数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94Python/">学习笔记——Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94android/">学习笔记——android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94data-compression/">学习笔记——data compression</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94expert-c-programming/">学习笔记——expert c programming</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94linux/">学习笔记——linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94opencv/">学习笔记——opencv</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E4%BB%A3%E7%A0%81%E7%AE%A1%E7%90%86/">学习笔记——代码管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E4%BD%8E%E5%8A%9F%E8%80%97%E6%8A%80%E6%9C%AF/">学习笔记——低功耗技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/">学习笔记——嵌入式开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">学习笔记——机器学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E7%89%A9%E8%81%94%E7%BD%91/">学习笔记——物联网</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/">学习笔记——网络协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/">学习笔记——计算机系统</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">计算机系统</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/C/" style="font-size: 15px;">C</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" style="font-size: 15px;">网络协议</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/" style="font-size: 15px;">嵌入式开发</a> <a href="/tags/data-compression/" style="font-size: 15px;">data compression</a> <a href="/tags/opencv/" style="font-size: 15px;">opencv</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">机器学习</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2024/03/25/zlib-and-gzip-format/">zlib and gzip format</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/23/deflate%20format/">deflate format</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/23/IPsec/">IPsec</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/21/%E6%95%B0%E7%9A%84%E7%B4%A0%E6%80%A7%E6%B5%8B%E8%AF%95/">数的素性测试</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/20/%E6%89%A9%E5%B1%95%E7%9A%84%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95/">扩展的欧几里得算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/17/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95-%E6%B1%82%E6%9C%80%E5%A4%A7%E5%85%AC%E5%9B%A0%E6%95%B0/">欧几里得算法-求最大公因数</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/04/%E5%B8%B8%E7%94%A8%E8%B7%AF%E7%94%B1%E6%96%B9%E5%BC%8F/">常用路由方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/19/%E6%97%A0%E7%BA%BF%E4%BC%A0%E6%84%9F%E7%BD%91WSN%E6%A6%82%E8%BF%B0/">无线传感网WSN概述</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/18/%E6%97%A0%E7%BA%BF%E6%A8%A1%E5%9D%97%E4%BC%91%E7%9C%A0%E4%B8%8E%E6%BF%80%E6%B4%BB%E6%9C%BA%E5%88%B6/">无线模块休眠与激活机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/SOC%E7%9A%84%E4%BD%8E%E5%8A%9F%E8%80%97%E8%AE%BE%E8%AE%A1/">SOC的低功耗设计</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">Mr Bluyee's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>